{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/posts/%5Bid%5D/PostActions.js"],"sourcesContent":["'use client'; // 必须标记为客户端组件\r\n\r\nimport { Button, Modal, message } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { useRouter } from 'next/navigation';\r\nimport axios from 'axios';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function PostActions({ postId }) {\r\n  const router = useRouter();\r\n\r\n  const handleDelete = () => {\r\n    confirm({\r\n      title: '确定要删除这篇文章吗？',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '删除后无法恢复（且会同步清除缓存）。',\r\n      okText: '确认删除',\r\n      okType: 'danger',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        try {\r\n          await axios.delete(`http://localhost:5000/api/posts/${postId}`);\r\n          message.success('删除成功');\r\n          router.push('/'); // 回到首页\r\n          router.refresh(); // 刷新数据\r\n        } catch (error) {\r\n          message.error('删除失败');\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', gap: '10px' }}>\r\n      {/* 编辑按钮：跳转到编辑页 */}\r\n      <Button \r\n        icon={<EditOutlined />} \r\n        onClick={() => {router.push(`/posts/${postId}/edit`)}}\r\n      >\r\n        编辑\r\n      </Button>\r\n\r\n      {/* 删除按钮 */}\r\n      <Button \r\n        danger \r\n        icon={<DeleteOutlined />} \r\n        onClick={handleDelete}\r\n      >\r\n        删除\r\n      </Button>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;AALA,cAAc,aAAa;;;;;AAO3B,MAAM,EAAE,OAAO,EAAE,GAAG,4LAAK;AAEV,SAAS,YAAY,EAAE,MAAM,EAAE;;IAC5C,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,eAAe;QACnB,QAAQ;YACN,OAAO;YACP,oBAAM,6LAAC,4QAAyB;;;;;YAChC,SAAS;YACT,QAAQ;YACR,QAAQ;YACR,YAAY;YACZ,MAAM;gBACJ,IAAI;oBACF,MAAM,mJAAK,CAAC,MAAM,CAAC,CAAC,gCAAgC,EAAE,QAAQ;oBAC9D,kMAAO,CAAC,OAAO,CAAC;oBAChB,OAAO,IAAI,CAAC,MAAM,OAAO;oBACzB,OAAO,OAAO,IAAI,OAAO;gBAC3B,EAAE,OAAO,OAAO;oBACd,kMAAO,CAAC,KAAK,CAAC;gBAChB;YACF;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,KAAK;QAAO;;0BAEzC,6LAAC,+MAAM;gBACL,oBAAM,6LAAC,qOAAY;;;;;gBACnB,SAAS;oBAAO,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC;gBAAC;0BACrD;;;;;;0BAKD,6LAAC,+MAAM;gBACL,MAAM;gBACN,oBAAM,6LAAC,2OAAc;;;;;gBACrB,SAAS;0BACV;;;;;;;;;;;;AAKP;GA5CwB;;QACP,kJAAS;;;KADF"}}]
}