{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/lib/features/postSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// 异步操作：获取文章列表\r\nexport const fetchPosts = createAsyncThunk('posts/fetchPosts', async () => {\r\n    const response = await axios.get('http://localhost:5000/api/posts');\r\n    return response.data.data; // 返回后端给的数据数组\r\n});\r\n\r\nconst postSlice = createSlice({\r\n    name: 'posts',\r\n    initialState: {\r\n        items: [],\r\n        status: 'idle', // 'idle' | 'loading' | 'succeeded' | 'failed'\r\n        error: null\r\n    },\r\n    reducers: {\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchPosts.pending, (state) => {\r\n                state.status = 'loading';\r\n            })\r\n            .addCase(fetchPosts.fulfilled, (state, action) => {\r\n                state.status = 'succeeded';\r\n                state.items = action.payload;\r\n            })\r\n            .addCase(fetchPosts.rejected, (state, action) => {\r\n                state.status = 'failed';\r\n                state.error = action.error.message;\r\n            });\r\n    }\r\n});\r\n\r\nexport default postSlice.reducer;"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,MAAM,aAAa,IAAA,kNAAgB,EAAC,oBAAoB;IAC3D,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC;IACjC,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,aAAa;AAC5C;AAEA,MAAM,YAAY,IAAA,6MAAW,EAAC;IAC1B,MAAM;IACN,cAAc;QACV,OAAO,EAAE;QACT,QAAQ;QACR,OAAO;IACX;IACA,UAAU,CACV;IACA,eAAe,CAAC;QACZ,QACK,OAAO,CAAC,WAAW,OAAO,EAAE,CAAC;YAC1B,MAAM,MAAM,GAAG;QACnB,GACC,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACnC,MAAM,MAAM,GAAG;YACf,MAAM,KAAK,GAAG,OAAO,OAAO;QAChC,GACC,OAAO,CAAC,WAAW,QAAQ,EAAE,CAAC,OAAO;YAClC,MAAM,MAAM,GAAG;YACf,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO;QACtC;IACR;AACJ;uCAEe,UAAU,OAAO"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/lib/store.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\r\nimport postReducer from './features/postSlice';\r\n\r\n// 创建 makeStore 函数，每次请求都需要新的 store 实例（SSR 的要求）\r\nexport const makeStore = () => {\r\n  return configureStore({\r\n    reducer: {\r\n      posts: postReducer,\r\n    },\r\n  });\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,YAAY;IACvB,OAAO,IAAA,gNAAc,EAAC;QACpB,SAAS;YACP,OAAO,iJAAW;QACpB;IACF;AACF"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/StoreProvider.js"],"sourcesContent":["'use client' // 必须标记为客户端组件\r\nimport { useRef } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { makeStore } from '../lib/store';\r\n\r\nexport default function StoreProvider({ children }) {\r\n  const storeRef = useRef();\r\n  \r\n  if (!storeRef.current) {\r\n    // 确保 store 只被创建一次\r\n    storeRef.current = makeStore();\r\n  }\r\n\r\n  return <Provider store={storeRef.current}>{children}</Provider>;\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA,cAAa,aAAa;;;;AAKX,SAAS,cAAc,EAAE,QAAQ,EAAE;;IAChD,MAAM,WAAW,IAAA,uKAAM;IAEvB,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,kBAAkB;QAClB,SAAS,OAAO,GAAG,IAAA,mIAAS;IAC9B;IAEA,qBAAO,6LAAC,wKAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C;GATwB;KAAA"}}]
}