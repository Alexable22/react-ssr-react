{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/page.js"],"sourcesContent":["import Link from 'next/link';\nimport { Button, Card, Tag, Divider } from 'antd';\nimport { ClockCircleOutlined, EyeOutlined } from '@ant-design/icons';\n\n// 在服务端运行的异步函数，负责从后端获取文章列表数据\nasync function getData() {\n  // cache: 'no-store' 禁用缓存，每次页面刷新 / 访问都会重新请求后端接口\n  const res = await fetch('http://localhost:5000/api/posts', { cache: 'no-store' });\n\n  if (!res.ok) {\n    throw new Error('Failed to fetch data');\n  }\n\n  return res.json();\n}\n\n\nexport default async function Home() {\n  // 在服务端等待数据返回\n  //把 data 字段重命名为 posts\n  const { data: posts } = await getData();\n\n  return (\n    <div style={{ maxWidth: '1000px', margin: '0 auto', padding: '40px 20px' }}>\n      \n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '40px' }}>\n        <h1 style={{ fontSize: '2rem', margin: 0 }}>📚 我的 SSR 博客</h1>\n        <Link href=\"/posts/create\">\n          <Button type=\"primary\" size=\"large\">写文章</Button>\n        </Link>\n      </div>\n\n      {/* 文章列表区 */}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n        {posts.length === 0 ? (\n          <div style={{ textAlign: 'center', color: '#999', padding: '50px' }}>\n            暂无文章，快去发布第一篇吧！\n          </div>\n        ) : (\n          posts.map((post) => (\n            <Card \n              key={post.id} \n              hoverable \n              style={{ width: '100%' }}\n              title={<Link href={`/posts/${post.id}`} style={{ color: 'inherit', fontSize: '1.2rem' }}>{post.title}</Link>}\n              extra={<Tag color={post.status === 1 ? 'green' : 'orange'}>{post.status === 1 ? '已发布' : '草稿'}</Tag>}\n            >\n              <p style={{ color: '#666', fontSize: '1rem', lineHeight: '1.6' }}>\n                {post.summary || post.content.substring(0, 100) + '...'}\n              </p>\n              \n              <Divider style={{ margin: '12px 0' }} />\n              \n              <div style={{ display: 'flex', justifyContent: 'space-between', color: '#999', fontSize: '0.9rem' }}>\n                <span><ClockCircleOutlined /> {new Date(post.created_at).toLocaleString()}</span>\n                <span><EyeOutlined /> {post.view_count} 阅读</span>\n              </div>\n            </Card>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;;;;;AAEA,4BAA4B;AAC5B,eAAe;IACb,+CAA+C;IAC/C,MAAM,MAAM,MAAM,MAAM,mCAAmC;QAAE,OAAO;IAAW;IAE/E,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB;AAGe,eAAe;IAC5B,aAAa;IACb,qBAAqB;IACrB,MAAM,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM;IAE9B,qBACE,8OAAC;QAAI,OAAO;YAAE,UAAU;YAAU,QAAQ;YAAU,SAAS;QAAY;;0BAEvE,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAiB,YAAY;oBAAU,cAAc;gBAAO;;kCACzG,8OAAC;wBAAG,OAAO;4BAAE,UAAU;4BAAQ,QAAQ;wBAAE;kCAAG;;;;;;kCAC5C,8OAAC,0LAAI;wBAAC,MAAK;kCACT,cAAA,8OAAC,6IAAM;4BAAC,MAAK;4BAAU,MAAK;sCAAQ;;;;;;;;;;;;;;;;;0BAKxC,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,KAAK;gBAAO;0BACjE,MAAM,MAAM,KAAK,kBAChB,8OAAC;oBAAI,OAAO;wBAAE,WAAW;wBAAU,OAAO;wBAAQ,SAAS;oBAAO;8BAAG;;;;;2BAIrE,MAAM,GAAG,CAAC,CAAC,qBACT,8OAAC,2IAAI;wBAEH,SAAS;wBACT,OAAO;4BAAE,OAAO;wBAAO;wBACvB,qBAAO,8OAAC,0LAAI;4BAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;4BAAE,OAAO;gCAAE,OAAO;gCAAW,UAAU;4BAAS;sCAAI,KAAK,KAAK;;;;;;wBACpG,qBAAO,8OAAC,0IAAG;4BAAC,OAAO,KAAK,MAAM,KAAK,IAAI,UAAU;sCAAW,KAAK,MAAM,KAAK,IAAI,QAAQ;;;;;;;0CAExF,8OAAC;gCAAE,OAAO;oCAAE,OAAO;oCAAQ,UAAU;oCAAQ,YAAY;gCAAM;0CAC5D,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,SAAS,CAAC,GAAG,OAAO;;;;;;0CAGpD,8OAAC,8IAAO;gCAAC,OAAO;oCAAE,QAAQ;gCAAS;;;;;;0CAEnC,8OAAC;gCAAI,OAAO;oCAAE,SAAS;oCAAQ,gBAAgB;oCAAiB,OAAO;oCAAQ,UAAU;gCAAS;;kDAChG,8OAAC;;0DAAK,8OAAC,uPAAmB;;;;;4CAAG;4CAAE,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;;;;;;;kDACvE,8OAAC;;0DAAK,8OAAC,+NAAW;;;;;4CAAG;4CAAE,KAAK,UAAU;4CAAC;;;;;;;;;;;;;;uBAdpC,KAAK,EAAE;;;;;;;;;;;;;;;;AAsB1B"}}]
}