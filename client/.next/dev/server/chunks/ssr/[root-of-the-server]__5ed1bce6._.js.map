{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/posts/%5Bid%5D/PostActions.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/posts/[id]/PostActions.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/posts/[id]/PostActions.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/posts/%5Bid%5D/PostActions.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/posts/[id]/PostActions.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/posts/[id]/PostActions.js\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///D:/React%20introduction/DEMOreact/react-ssr-blog/client/src/app/posts/%5Bid%5D/page.js"],"sourcesContent":["import Link from 'next/link';\r\nimport { Button, Tag, Divider } from 'antd';\r\nimport { ArrowLeftOutlined, ClockCircleOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport PostActions from './PostActions';\r\n\r\n// 服务端运行的获取单篇文章数据\r\nasync function getPost(id) {\r\n  // cache: 'no-store' 禁用缓存，每次页面刷新 / 访问都会重新请求后端接口\r\n  const res = await fetch(`http://localhost:5000/api/posts/${id}`, { cache: 'no-store' });\r\n  \r\n  if (!res.ok) {\r\n    return null;\r\n  }\r\n  \r\n  return res.json();\r\n}\r\n\r\n// 动态路由页面组件\r\n// Next.js 会自动把 URL 里的 id 传给 params\r\nexport default async function PostDetailPage({ params }) {\r\n  // 注意：在 Next.js 15 中 params 是 Promise，需要 await params\r\n  // 如果你是 Next.js 14 及以下，直接用 const { id } = params;\r\n  const { id } = await params; \r\n\r\n  const result = await getPost(id);\r\n\r\n  if (!result || !result.success) {\r\n    return <div style={{ textAlign: 'center', marginTop: 100 }}>文章不存在或已被删除</div>;\r\n  }\r\n\r\n  const post = result.data;\r\n\r\n  return (\r\n    <div style={{ maxWidth: '800px', margin: '40px auto', padding: '0 20px' }}>\r\n      {/* 返回按钮 */}\r\n      <Link href=\"/\">\r\n        <Button type=\"text\" icon={<ArrowLeftOutlined />} style={{ marginBottom: 20 }}>\r\n          返回列表\r\n        </Button>\r\n        {/* 插入操作按钮组件，把id传进去 */}\r\n        <PostActions postId={post.id}/>\r\n      </Link>\r\n\r\n      {/* 文章头部 */}\r\n      <article>\r\n        <header style={{ marginBottom: '30px' }}>\r\n          <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', marginBottom: '15px' }}>\r\n            {post.title}\r\n          </h1>\r\n          \r\n          <div style={{ color: '#888', display: 'flex', gap: '20px', fontSize: '0.9rem' }}>\r\n            <span><ClockCircleOutlined /> {new Date(post.created_at).toLocaleString()}</span>\r\n            <span><EyeOutlined /> {post.view_count} 阅读</span>\r\n            <Tag color=\"blue\">{post.status === 1 ? '正式发布' : '草稿'}</Tag>\r\n          </div>\r\n        </header>\r\n\r\n        {/* 分割线 */}\r\n        <Divider />\r\n\r\n        {/* 文章正文 */}\r\n        {/* dangerouslySetInnerHTML 用于渲染 HTML 内容，如果是 Markdown 需要转换 */}\r\n        <div \r\n          style={{ lineHeight: '1.8', fontSize: '1.1rem', color: '#333' }}\r\n          dangerouslySetInnerHTML={{ __html: post.content.replace(/\\n/g, '<br/>') }} \r\n        />\r\n        \r\n        {/* 简单的换行处理，实际项目中推荐用 react-markdown */}\r\n      </article>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AACA;;;;;;AAEA,iBAAiB;AACjB,eAAe,QAAQ,EAAE;IACvB,+CAA+C;IAC/C,MAAM,MAAM,MAAM,MAAM,CAAC,gCAAgC,EAAE,IAAI,EAAE;QAAE,OAAO;IAAW;IAErF,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,OAAO;IACT;IAEA,OAAO,IAAI,IAAI;AACjB;AAIe,eAAe,eAAe,EAAE,MAAM,EAAE;IACrD,qDAAqD;IACrD,iDAAiD;IACjD,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IAErB,MAAM,SAAS,MAAM,QAAQ;IAE7B,IAAI,CAAC,UAAU,CAAC,OAAO,OAAO,EAAE;QAC9B,qBAAO,8OAAC;YAAI,OAAO;gBAAE,WAAW;gBAAU,WAAW;YAAI;sBAAG;;;;;;IAC9D;IAEA,MAAM,OAAO,OAAO,IAAI;IAExB,qBACE,8OAAC;QAAI,OAAO;YAAE,UAAU;YAAS,QAAQ;YAAa,SAAS;QAAS;;0BAEtE,8OAAC,0LAAI;gBAAC,MAAK;;kCACT,8OAAC,6IAAM;wBAAC,MAAK;wBAAO,oBAAM,8OAAC,iPAAiB;;;;;wBAAK,OAAO;4BAAE,cAAc;wBAAG;kCAAG;;;;;;kCAI9E,8OAAC,uJAAW;wBAAC,QAAQ,KAAK,EAAE;;;;;;;;;;;;0BAI9B,8OAAC;;kCACC,8OAAC;wBAAO,OAAO;4BAAE,cAAc;wBAAO;;0CACpC,8OAAC;gCAAG,OAAO;oCAAE,UAAU;oCAAU,YAAY;oCAAQ,cAAc;gCAAO;0CACvE,KAAK,KAAK;;;;;;0CAGb,8OAAC;gCAAI,OAAO;oCAAE,OAAO;oCAAQ,SAAS;oCAAQ,KAAK;oCAAQ,UAAU;gCAAS;;kDAC5E,8OAAC;;0DAAK,8OAAC,uPAAmB;;;;;4CAAG;4CAAE,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;;;;;;;kDACvE,8OAAC;;0DAAK,8OAAC,+NAAW;;;;;4CAAG;4CAAE,KAAK,UAAU;4CAAC;;;;;;;kDACvC,8OAAC,0IAAG;wCAAC,OAAM;kDAAQ,KAAK,MAAM,KAAK,IAAI,SAAS;;;;;;;;;;;;;;;;;;kCAKpD,8OAAC,8IAAO;;;;;kCAIR,8OAAC;wBACC,OAAO;4BAAE,YAAY;4BAAO,UAAU;4BAAU,OAAO;wBAAO;wBAC9D,yBAAyB;4BAAE,QAAQ,KAAK,OAAO,CAAC,OAAO,CAAC,OAAO;wBAAS;;;;;;;;;;;;;;;;;;AAOlF"}}]
}